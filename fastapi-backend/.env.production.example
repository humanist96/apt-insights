# =============================================================================
# FastAPI Backend - Production Environment Variables
# =============================================================================
# Copy this file to .env.production and set actual values
# cp .env.production.example .env.production

# =============================================================================
# Data Source Configuration (REQUIRED)
# =============================================================================
# Use PostgreSQL in production
USE_DATABASE=true

# =============================================================================
# PostgreSQL Configuration (REQUIRED for production)
# =============================================================================
# Railway auto-provides: DATABASE_URL
# Format: postgresql://username:password@host:port/database
DATABASE_URL=${DATABASE_URL}

# Connection pool settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# SQL logging (disable in production)
SQL_ECHO=false

# =============================================================================
# Redis Cache Configuration (OPTIONAL)
# =============================================================================
# Railway auto-provides: REDIS_URL
USE_REDIS=true
REDIS_URL=${REDIS_URL}

# Cache TTL settings (seconds)
CACHE_TTL_SHORT=300
CACHE_TTL_MEDIUM=1800
CACHE_TTL_LONG=3600

# =============================================================================
# Server Configuration
# =============================================================================
HOST=0.0.0.0
PORT=${PORT}
WORKERS=4

# =============================================================================
# CORS Configuration (REQUIRED)
# =============================================================================
# Add your Vercel frontend URL
ALLOWED_ORIGINS=https://your-app.vercel.app,https://www.your-domain.com

# =============================================================================
# API Configuration (from parent project)
# =============================================================================
# Korean Ministry of Land API key
SERVICE_KEY=${SERVICE_KEY}

# Google Gemini API key (optional, for AI features)
GEMINI_API_KEY=${GEMINI_API_KEY}

# =============================================================================
# Application Settings
# =============================================================================
# Environment
ENVIRONMENT=production

# Logging
LOG_LEVEL=info
LOG_FORMAT=json

# Security
SECRET_KEY=${SECRET_KEY}
API_KEY_HEADER=X-API-Key

# =============================================================================
# Monitoring & Observability (OPTIONAL)
# =============================================================================
# Sentry DSN for error tracking
SENTRY_DSN=

# Application insights
APP_INSIGHTS_KEY=

# =============================================================================
# Feature Flags
# =============================================================================
ENABLE_DOCS=false
ENABLE_METRICS=true
ENABLE_PROFILING=false

# =============================================================================
# Rate Limiting
# =============================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# =============================================================================
# External API Configuration
# =============================================================================
# Korean Ministry of Land API
API_REQUEST_TIMEOUT=30
API_MAX_RETRIES=3
API_RETRY_DELAY=1

# =============================================================================
# Railway Auto-Injected Variables (Reference)
# =============================================================================
# These are automatically provided by Railway, do not set manually:
# - PORT: Application port
# - DATABASE_URL: PostgreSQL connection string
# - REDIS_URL: Redis connection string
# - RAILWAY_ENVIRONMENT: Environment name
# - RAILWAY_PROJECT_NAME: Project name
# - RAILWAY_SERVICE_NAME: Service name
